<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>تسجيل الطلاب</title>
  <style>
    body { font-family: Arial; direction: rtl; background: #f5f5f5; display: flex; justify-content: center; align-items: center; height: 100vh; }
    form { background: white; padding: 20px; border-radius: 10px; width: 300px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    input, button { width: 100%; margin-top: 10px; padding: 8px; }
    button { background: #4CAF50; color: white; border: none; cursor: pointer; }
  </style>
</head>
<body>

<form id="studentForm">
  <h3>تسجيل طالب</h3>
  <input type="text" id="name" placeholder="اسم الطالب" required>
  <input type="number" id="age" placeholder="العمر" required>
  <button type="submit">إرسال</button>
</form>

<!-- Firebase SDK -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCYx8W_IRsMMCTyRa8XI8ZgSYNy9FTC05w",
    authDomain: "studentform-23321.firebaseapp.com",
    databaseURL: "https://studentform-23321-default-rtdb.firebaseio.com",
    projectId: "studentform-23321",
    storageBucket: "studentform-23321.firebasestorage.app",
    messagingSenderId: "231053258264",
    appId: "1:231053258264:web:9085921423ec01b8f61d6d"
  };

  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);

  document.getElementById("studentForm").addEventListener("submit", function(e){
    e.preventDefault();
    const name = document.getElementById("name").value;
    const age = document.getElementById("age").value;

    push(ref(database, 'students/'), {
      name: name,
      age: age
    }).then(() => {
      alert("تم إرسال البيانات بنجاح!");
      document.getElementById("studentForm").reset();
    }).catch((error) => {
      alert("حصل خطأ: " + error.message);
    });
  });
</script>

</body>
</html>
